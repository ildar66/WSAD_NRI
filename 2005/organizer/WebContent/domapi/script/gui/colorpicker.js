/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.loadUnit("dropdown");domapi.loadUnit("colorpane");domapi.registerComponent("colorpicker");domapi.dPxwW.push("colorpicker");domapi.Colorpicker=function(i2T25){return domapi.comps.colorpicker.constructor(i2T25)};domapi.comps.colorpicker.constructor=function(i2T25){var p=domapi.mJ00.colorpicker;if(!domapi.bags.colorpicker.length){p.$H8=domapi.Colorpane({x:10,y:10,doIframeShield:true});p.$H8.setZ(2000);p.$H8.showing=false;p.$H8.hide()}var x3A00=domapi.Component(i2T25,"colorpicker",true);try{domapi.IsNVS(x3A00,"dropdown");x3A00.T5$();domapi.IsNVS(x3A00,"colorpicker");x3A00.dropDown=p.$H8;x3A00._7M9=domapi.Elm({parent:x3A00,x:0,y:0,w:10,h:10});x3A00.R77=document.createElement("IMG");x3A00.R77.src=domapi.theme.skin.lN604.src;var s=x3A00.R77.style;s.position="absolute";s.left="3px";s.top="3px";s.width="10px";s.height="10px";s.border="1px solid black";x3A00._7M9.appendChild(x3A00.R77);domapi.transferElm(x3A00.w7U1b,x3A00._7M9);x3A00.w7U1b.value=x3A00.value;x3A00.w7U1b.style.borderStyle="none";x3A00.dropDown.onokclick=p.Y5$;x3A00.dropDown.oncancelclick=p.s08;x3A00.w7U1b.onchange=p.O880;x3A00.w7U1b.onkeydown=p.hr36a;domapi.hl1(x3A00);domapi.mJ00.dropdown.X53(x3A00);return x3A00}finally{x3A00=null;s=null;p=null}};domapi.comps.colorpicker.Gk8HS=function(){this.oJj();this._7M9=null;this.R77=null};domapi.comps.colorpicker.Q43hR=function(){this.wv6();this.v13T6()};domapi.comps.colorpicker.v13T6=function(){var t=domapi.theme;var b=this.doBorder?t.border.width:0;var x3A00=this._7M9;x3A00.setBgColor(domapi.theme.fonts.window.bgcolor);x3A00.setB(1);x3A00.style.borderStyle=this.doBorder?t.border.solid:"none";x3A00.style.borderColor=t.border.getOutset();x3A00.style.borderColor=domapi.theme.border.getInset()};domapi.comps.colorpicker.MR9=function(w,h){this.F32(w,h);h=domapi.theme.skin.metrics.dropdown.h;this._7M9.setSize(w,h);this.w7U1b.setSize(w-20,h);this.w7U1b.moveTo(20,1);this.dropDown.layout(this.dropDown.getW()-3)};domapi.comps.colorpicker.setEnabled=function(b){this.enabled=b;this.dropBtn.enabled=b;this.dropDown.enabled=b;this.w7U1b.disabled=!b};domapi.comps.colorpicker.setDoAllowEdit=function(b){if(domapi.isGecko){if(b)this.w7U1b.removeAttribute("readonly");else this.w7U1b.setAttribute("readonly","readonly")}else{if(b)this.w7U1b.onfocus=null;else this.w7U1b.onfocus=function(){this.blur()}}this.doAllowEdit=b};domapi.comps.colorpicker.wyl2X=function(){if(this.Gic6N)this.Gic6N.value=this.value;if(this.onchange)this.onchange(this.value)};domapi.comps.colorpicker.DJL20=function(E0E){this.dropDown.setHexValue(E0E);this.value=this.dropDown.value.toUpperCase();this.w7U1b.value=this.value;this.R77.style.backgroundColor=this.value;this.wyl2X()};domapi.comps.colorpicker.A0C=function(){this.dropDown.setHexValue(this.value);if(this.onclose)this.onclose()};domapi.comps.colorpicker.c79=function(){this.dropDown.setHexValue(this.value)};domapi.mJ00.colorpicker.$H8=null;domapi.mJ00.colorpicker.Y5$=function(){this.parent.DJL20(this.value);if(this.parent.autoClose)this.parent.close()};domapi.mJ00.colorpicker.s08=function(){this.parent.close()};domapi.mJ00.colorpicker.hr36a=function(){var bM2=domapi.isIE?event.keyCode:E.which;if(bM2==13){domapi.mJ00.colorpicker.O880.apply(this);this.select()}};domapi.mJ00.colorpicker.O880=function(){var r=this.parentNode.parentNode;if(!r.doAllowEdit){this.value=r.value;return false}r.DJL20(domapi.color.makeSureIsHexColor(this.value.trim()).toUpperCase())};