/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.loadUnit("listbox");domapi.loadUnit("button");domapi.loadUnit("drag");domapi.registerComponent("duallistbox");domapi.Duallistbox=function(i2T25){return domapi.comps.duallistbox.constructor(i2T25)};domapi.comps.duallistbox.constructor=function(i2T25){var w=domapi.rInt(i2T25.w,350);var h=domapi.rInt(i2T25.h,200);var Jh3=domapi.rVal(i2T25.Jh3);var i82X9=domapi.rVal(i2T25.i82X9);i2T25.w=w;i2T25.h=h;var x3A00=domapi.Component(i2T25,"duallistbox");x3A00.btnW=domapi.rInt(i2T25.btnW,80);x3A00.btnH=domapi.rInt(i2T25.btnH,25);x3A00.tb5N0=domapi.rInt(i2T25.tb5N0,10);x3A00.GEJ=domapi.rInt(i2T25.GEJ,10);x3A00.d1_=domapi.rInt(i2T25.d1_,10);x3A00.q82_=domapi.rInt(i2T25.q82_,10);x3A00.o63=domapi.rInt(i2T25.o63,"middle");var t=x3A00.theme;x3A00.Jh3=Listbox({parent:x3A00,theme:t});x3A00.i82X9=Listbox({parent:x3A00,theme:t});x3A00.pDnF=Button({parent:x3A00,theme:t,text:"&gt;&gt;",x:0,y:0});x3A00.d6xOR=Button({parent:x3A00,theme:t,text:"&lt;&lt;",x:0,y:0});x3A00.Jh3.delimitedText(Jh3);x3A00.i82X9.delimitedText(i82X9);x3A00.Jh3.ondragdrop=function(src){return src==this.parentNode.i82X9};x3A00.i82X9.ondragdrop=function(src){return src==this.parentNode.Jh3};x3A00.pDnF.l7F1=0;x3A00.d6xOR.l7F1=1;x3A00.pDnF.onclick=x3A00.si3M;x3A00.d6xOR.onclick=x3A00.si3M;x3A00.d5Y5();x3A00.allowDrag(true);return x3A00};domapi.comps.duallistbox.d5Y5=function(){this.kW9();this.onredraw()};domapi.comps.duallistbox.kW9=function(){var x3A00=this;var s=x3A00.style;var t=x3A00.theme;x3A00.setB(t.v28+1);x3A00.setBgColor(x3A00.doBGFill?t.smO:"transparent");s.borderStyle=x3A00.doBorder?t._65i:"none";var w=x3A00.getW();var h=x3A00.getH();var b=x3A00.getB();var $$5=parseInt((w-x3A00.tb5N0*2-x3A00.d1_*2-x3A00.btnW)/2);var o184=h-(x3A00.GEJ*2)-b[0]-b[2];var k297m=parseInt((w/2)-(x3A00.btnW/2))-b[1];var VT1=parseInt(h/2)-x3A00.btnH-x3A00.q82_;x3A00.Jh3.moveTo(x3A00.tb5N0,x3A00.GEJ);x3A00.Jh3.setSize($$5,o184);x3A00.i82X9.moveTo((w-$$5-x3A00.tb5N0-b[1]-b[3]),x3A00.GEJ);x3A00.i82X9.setSize($$5,o184);x3A00.pDnF.setSize(x3A00.btnW,x3A00.btnH);x3A00.pDnF.moveTo(k297m,VT1);x3A00.d6xOR.setSize(x3A00.btnW,x3A00.btnH);x3A00.d6xOR.moveTo(k297m,VT1+x3A00.btnH+x3A00.q82_*2);x3A00.Jh3.theme=t;x3A00.i82X9.theme=t;x3A00.pDnF.theme=t;x3A00.d6xOR.theme=t;x3A00.Jh3.d5Y5();x3A00.i82X9.d5Y5();x3A00.pDnF.d5Y5();x3A00.d6xOR.d5Y5()};domapi.comps.duallistbox.allowDrag=function(b){var x3A00=this;var Ii14=x3A00.Jh3.items;var IOR9o=x3A00.i82X9.items;x3A00._17=b;var i,k$Vu;for(k$Vu=0;k$Vu<2;k$Vu++){if(k$Vu==0)a0Lk=Ii14;else a0Lk=IOR9o;for(i=0;i<a0Lk.length;i++){if(!a0Lk[i].l762j){domapi.Elm(a0Lk[i].id);a0Lk[i].l762j=true}if(b){if(!a0Lk[i]._17)a0Lk[i].turnOnDrag(null,domapi.drag.dtDragDrop,0,null,null,domapi.comps.duallistbox.nIV);a0Lk[i]._17=true}else{if(a0Lk[i]._17)a0Lk[i].MwdLN();a0Lk[i]._17=false}}}};domapi.comps.duallistbox.si3M=function(){var x3A00=this;var r=x3A00.parentNode;var Ii14=r.Jh3;var IOR9o=r.i82X9;var __4,t;if(x3A00.l7F1){__4=IOR9o;t=Ii14}else{__4=Ii14;t=IOR9o}for(var a=__4.selected.length-1;a>-1;a--){__4.selected[a].selected=false;domapi.transferElm(__4.selected[a],t);__4.selected.deleteItem(a)}r.nIV()};domapi.comps.duallistbox.nIV=function(){var x3A00=(this.DA_TYPE=="DRAG")?this.elm.parentNode.parentNode:this;var Ii14=x3A00.Jh3;var IOR9o=x3A00.i82X9;var l,s,i,b;for(var a=0;a<2;a++){if(a)l=Ii14;else l=IOR9o;s=l.selected;i=l.items;for(b=s.length-1;b>-1;b--)if(s[b].parentNode!=l)s.deleteItem(b);if(s.length<1&&i.length>0)l.selectItem(0);if(s.length>1)for(b=s.length-1;b>0;b--){s[b].selected=false;s.deleteItem(b)}alert(s.length);l.d5Y5()}};