/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.loadUnit("xmlcore");domapi.loadUnit("packer");domapi.XulReader=function(i2T25){var Kq3=new domapi._XulReader(i2T25);try{if(Kq3.uri)Kq3.loadFromUri(Kq3.uri);else if(Kq3.xmlstr)Kq3.loadFromString(Kq3.xmlstr);else if(Kq3.xmlnode)Kq3.E8aU1(Kq3.xmlnode);else if(Kq3.f3c)Kq3.S4ORQ();return Kq3}finally{Kq3=null}};domapi._XulReader=function(i2T25){var Kq3=this;try{for(var i in i2T25)Kq3[i]=i2T25[i];Kq3.f3c=domapi.xml.getDomDocument();Kq3.f3c.async=false;Kq3.container=Kq3.parent?Kq3.parent:null}finally{Kq3=null}};domapi._XulReader.prototype.loadFromUri=function(_5bu){this.f3c.load(_5bu);this.S4ORQ()};domapi._XulReader.prototype.loadFromString=function(E8913){this.f3c.loadXML(E8913);this.S4ORQ()};domapi._XulReader.prototype.S4ORQ=function(){if(!this.f3c.documentElement||this.f3c.documentElement.tagName=="parsererror")throw new Error("Undefined root node. Xml could be badly formed.");this.E8aU1(this.f3c.documentElement)};domapi._XulReader.prototype.E8aU1=function(Ea79,c){if(!Ea79||Ea79.tagName=="parsererror")throw new Error("Undefined node. Xml could be badly formed.");var x3A00=null;var e3$c5=true;var dN81=true;var h;var side="top";var e16F=null;try{if(!c)c=this.container;else side=domapi.rVal(c.a3B,"top");if(Ea79.nodeType==1){var br5=Ea79.tagName.toLowerCase();var yVj8="";if(this["_"+br5]){mK02M=this["_"+br5](Ea79,c);c=mK02M[0];x3A00=mK02M[1]}switch(br5){case "xml":x3A00=c;dN81=false;break;case "window":case "caption":dN81=false;break;case "button":case "spacer":case "description":case "label":case "textbox":case "listbox":case "menulist":e3$c5=false;break;case "groupbox":x3A00=domapi.Elm({parent:c,type:"fieldset",x:0,y:0});l=domapi.Elm({parent:x3A00,type:"legend"});if(Ea79.hasChildNodes()){for(i=0;i<Ea79.childNodes.length;i++)if(Ea79.childNodes[i].nodeType==1)break;Neq7A=Ea79.childNodes[i];if(Neq7A.tagName=="caption"){l.setText(Neq7A.getAttribute("label"));if(Neq7A.childNodes.length>0)l.setText(Neq7A.xml)}}h=domapi.Elm({parent:x3A00});break;case "vbox":switch(x3A00._align){case "start":e16F="n";break;case "center":e16F="c";break;case "end":e16F="s";break}side="top";break;case "box":for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "orient":t60.value=="vertical"?"top":"left"}}break;case "bbox":case "hbox":switch(x3A00._align){case "start":e16F="w";break;case "center":e16F="c";break;case "end":e16F="e";break}side="left";break;default:h44$W=br5.split(":");if(Ea79.parentNode)yVj8=Ea79.parentNode.tagName.toLowerCase().split(":")[0];if(h44$W[0]=="html"){if(h44$W[1]=="script"){h92j="";for(var w112A=0;w112A<Ea79.childNodes.length;w112A++){if(Ea79.childNodes[w112A].nodeType==3){if(Ea79.childNodes[w112A].nodeValue){h92j+=Ea79.childNodes[w112A].nodeValue}}}eval(h92j)}else{if(yVj8!="html")x3A00=domapi.Elm({parent:c});if(x3A00)x3A00.style.whiteSpace="nowrap";h=domapi.Elm({parent:yVj8!="html"?x3A00:c,type:h44$W[1],skipStyle:true});domapi.xml.applyAttributes(Ea79,h);for(var a=0;a<Ea79.childNodes.length;a++)x6way=this.E8aU1(Ea79.childNodes[a],h)}}e3$c5=false;break}if(x3A00&&dN81){x3A00.packerOn({anchor:c.a3B=="left"?"n":"w",side:c.a3B});var opt=x3A00.packer.opt;if(Ea79.getAttribute("flex")){opt.expand="yes";opt.fill=c.a3B=="left"?"x":"y";opt.fill="both";opt.OwF1o=opt.Cw5p9=Number(Ea79.getAttribute("flex"))}if(br5.match(new RegExp("^.{0,1}box")))opt.fill="both";if(Ea79.parentNode.tagName.toLowerCase()=="bbox")opt.anchor="s";if(h)opt.fill="both";if(c._IE5){opt.anchor=c._IE5;opt.expand="yes"}if(br5=="groupbox"){opt.e9kV=1;opt.u2VNg=4;opt.Dhn3=8;if(domapi.isIE)opt.marginTop=15;if(domapi.isGecko)opt.marginLeft=-22}}if(!x3A00)x3A00=c;if(x3A00)if(x3A00.id&&!this[x3A00.id.replace(new RegExp("-"),"_")])this[x3A00.id.replace(new RegExp("-"),"_")]=x3A00;if(Ea79.hasChildNodes()){if(Ea79.nodeType!=2&&e3$c5){x3A00.a3B=side;x3A00._IE5=e16F;for(var a=0;a<Ea79.childNodes.length;a++)this.E8aU1(Ea79.childNodes[a],yVj8=="html"?h:x3A00);if(br5=="groupbox"&&domapi.isGecko){x3A00.packer.G9_=x3A00.getH()-42;x3A00.packer.cpk8=x3A00.parentNode.getW()-24}if(x3A00.C16){if(br5=="window"&&c.DA_TYPE=="WINDOW"){domapi.packer.render(x3A00,true);c.adjustSize();x3A00.packer.cpk8=x3A00.getW();x3A00.packer.G9_=x3A00.getH()}else{Uj0=domapi.packer.render(x3A00,false);x3A00.setSize(Uj0.width,Uj0.height);x3A00.packer.cpk8=Uj0.width;x3A00.packer.G9_=Uj0.height}}}}}if(Ea79.nodeType==3){if(Ea79.nodeValue){var MK4=document.createTextNode(Ea79.nodeValue);c.appendChild(MK4)}}}finally{x3A00=null;c=null;mK02M=null;l=null;Neq7A=null;opt=null;h=null;x6way=null}};domapi._XulReader.prototype._bbox=function(Ea79,c){return this._box(Ea79,c)};domapi._XulReader.prototype._box=function(Ea79,c){var x3A00=domapi.Elm({parent:c,x:0,y:0});var t60;try{x3A00.setText("&nbsp;");if(Ea79.attributes.length>0)for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;break;case "style":x3A00.setStyleFromString(t60.value);break;case "width":x3A00.setW(Number(t60.value));break;case "height":x3A00.setH(Number(t60.value));break;case "align":x3A00._align=t60.value;break}}return [c,x3A00]}finally{x3A00=null}};domapi._XulReader.prototype._button=function(Ea79,c){if(!domapi.unitLoaded("button"))throw new Error("Button unit required");var t60;var x3A00=domapi.Button({parent:c,x:0,y:0,text:Ea79.getAttribute("label")});try{if(Ea79.attributes.length>0)for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;break;case "width":x3A00.setW(Number(t60.value));break;case "height":x3A00.setH(Number(t60.value));break;case "style":x3A00.setStyleFromString(t60.value);break;case "disabled":if(t60.value=="true")x3A00.setEnabled(false);break;case "onclick":eval("x3A00.onclick=function(){"+t60.value+"}");break}}return [c,x3A00]}finally{x3A00=null}};domapi._XulReader.prototype._description=function(Ea79,c){return this._label(Ea79,c)};domapi._XulReader.prototype._hbox=function(Ea79,c){return this._box(Ea79,c)};domapi._XulReader.prototype._label=function(Ea79,c){var x3A00,t60;try{if(Ea79.parentNode.tagName!="groupbox")x3A00=domapi.Elm({parent:c,x:0,y:0});else x3A00=domapi.Elm({parent:c});x3A00.style.whiteSpace="nowrap";for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;break;case "value":x3A00.setText(t60.value);break}}if(Ea79.childNodes.length>0)x3A00.setText(Ea79.childNodes[0].nodeValue);r872X=domapi.textWidth(x3A00.innerHTML);if(r872X)x3A00.setW(r872X);return [c,x3A00]}finally{x3A00=null;t60=null}};domapi._XulReader.prototype._listbox=function(Ea79,c){var CQu,x3A00;var Ppl=Ea79.selectSingleNode("listcols");try{if(Ppl){if(!domapi.unitLoaded("listgrid"))throw new Error("Listgrid unit required");_00u=Ea79.selectSingleNode("listhead");c750={};var $e355=false;if(_00u){c750=_00u.selectNodes("listheader");$e355=true}fWLbT=Ppl.selectNodes("listcol");var minWidth=0;for(var a=0;a<fWLbT.length;a++){minWidth+=domapi.Dataset.prototype.defaultColWidth}x3A00=domapi.Listgrid({parent:c,w:minWidth,h:100,x:0,y:0,doShowHeader:$e355,doShowRowbar:false,doVirtualMode:false});x3A00.setGridlines("none");var Qg355=x3A00.data;for(var a=0;a<fWLbT.length;a++){if(c750[Qg355.cols.length])Qg355.cols.push({text:c750[Qg355.cols.length].getAttribute("label"),fieldName:c750[Qg355.cols.length].getAttribute("label")});else Qg355.cols.push({text:"Col"+a,fieldName:"Col"+a})}ux34=Ea79.selectNodes("listitem");for(var a=0;a<ux34.length;a++){Jk0=ux34[a].selectNodes("listcell");R={cells:[]};for(var i=0;i<Jk0.length;i++){R.cells.push({text:Jk0[i].getAttribute("label"),value:Jk0[i].getAttribute("label")})}Qg355.rows.push(R)}Qg355.dataChanged();if(Qg355.rows.length>0)x3A00.currentRow=0;if(Qg355.cols.length>0)x3A00.currentCol=0;x3A00.refresh()}else{if(!domapi.unitLoaded("listbox"))throw new Error("Listbox unit required");x3A00=domapi.Listbox({parent:c,w:200,x:0,y:0});for(var a=0;a<Ea79.childNodes.length;a++)if(Ea79.childNodes[a].nodeType==1){x3A00.addItem({text:Ea79.childNodes[a].getAttribute("label")})}for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;break;case "style":x3A00.setStyleFromString(t60.value);break;case "rows":x3A00.setH(16*t60.value);break}}}return [c,x3A00]}finally{CQu=null;Ppl=null;_00u=null;c750=null;ko1=null;Qg355=null;R=null;x3A00=null;Jk0=null}};domapi._XulReader.prototype._menulist=function(Ea79,c){if(!domapi.unitLoaded("combobox"))throw new Error("Combobox unit required");var x3A00=domapi.Combobox({parent:c,w:100,x:0,y:0});var t60;try{var Wd1B0=null;var Pn0D=Ea79.selectSingleNode("menupopup");var r3K=Pn0D.selectNodes("menuitem");for(var a=0;a<r3K.length;a++){x3A00.addItem(r3K[a].getAttribute("label"));if(r3K[a].getAttribute("selected")=="true")x3A00.selectItem(a)}for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;break;case "style":x3A00.setStyleFromString(t60.value);break;case "rows":x3A00.dropdown.setH(16*t60.value);break}}return [c,x3A00]}finally{x3A00=null;Pn0D=null;r3K=null}};domapi._XulReader.prototype._spacer=function(Ea79,c){var x3A00,t60;x3A00=domapi.Elm({parent:c,w:1,h:1,x:0,y:0});try{for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;break;case "style":x3A00.setStyleFromString(t60.value);break}}return [c,x3A00]}finally{x3A00=null}};domapi._XulReader.prototype._textbox=function(Ea79,c){var x3A00,t60;x3A00=domapi.Elm({parent:c,type:"input",skipAdd:true,x:0,y:0,h:16});try{if(Ea79.getAttribute("type")){if(Ea79.getAttribute("type")=="autocomplete"){if(!domapi.unitLoaded("form"))throw new Error("Form unit required");x3A00.type="text";x3A00.setB(2);x3A00.setP(1);domapi.autocompleteOn(x3A00,["red","orange","yellow","green","gray","blue","indigo","violet","brown"])}else x3A00.type=Ea79.getAttribute("type")}c.appendChild(x3A00);for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":x3A00.id=t60.value;case "type":break;case "style":x3A00.setStyleFromString(t60.value);break;case "size":x3A00.size=t60.value;break;case "maxlength":x3A00.maxLength=t60.value;break;case "readonly":x3A00.readOnly=(t60.value=="true");break;case "disabled":x3A00.disabled=(t60.value=="true");break;case "value":x3A00.value=t60.value;break;default:break}}if(x3A00.type=="text"||x3A00.type=="password"){x3A00.setB(2);x3A00.setP(1)}return [c,x3A00]}finally{x3A00=null}};domapi._XulReader.prototype._vbox=function(Ea79,c){return this._box(Ea79,c)};domapi._XulReader.prototype._window=function(Ea79,c){if(!domapi.unitLoaded("window"))throw new Error("Window unit required");var c,t60;var x3A00=null;try{if(!c){c=domapi.Window({x:this.x,y:this.y,w:200,h:100});c.onendresize=function(){if(this.getW()<this.minWidth)this.setW(this.minWidth);if(this.getW()>this.maxWidth)this.setW(this.maxWidth);var w=this.workspace;domapi.packer.render(w);w.style.overflow="scroll";w.style.overflow="auto"};this.container=x3A00=c.workspace;for(var a=0;a<Ea79.attributes.length;a++){t60=Ea79.attributes[a];switch(t60.name){case "id":c.id=t60.value;break;case "title":c.setText(t60.value);break;default:c[t60.name]=t60.value}}if(c.minWidth&&c.maxWidth)if(c.minWidth==c.maxWidth)c.allowResize(false)}var tw8En=Ea79.getAttribute("orient")=="horizontal"?"left":"top";if(x3A00)x3A00.a3B=tw8En;else c.a3B=tw8En;if(c.id&&!this[c.id.replace(new RegExp("-"),"_")])this[c.id.replace(new RegExp("-"),"_")]=c;return [c,x3A00]}finally{x3A00=null;c=null;w=null}};domapi.elmProto.setStyleFromString=function(D6a){this.style.cssText=this.style.cssText+";"+D6a.replace(new RegExp("(\\s+)([px]|[em]|[%]|[in]|[pt]|[cm]|[mm]|[pc]|[ex])","gi"),"$2")};