/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.loadUnit("shadow");domapi.loadUnit("imagelistlite");domapi.registerComponent("popupmenu");domapi.Popupmenu=function(i2T25){return domapi.comps.popupmenu.constructor(i2T25)};domapi.comps.popupmenu.constructor=function(i2T25){i2T25.w=domapi.rInt(i2T25["desiredW"],100);i2T25.h=10;var p=i2T25["parent"];i2T25.parent=null;var x3A00=domapi.Component(i2T25,"popupmenu");try{x3A00.items=x3A00.childNodes;x3A00.setP(1);x3A00.setM(1);x3A00.setZ(p?p.style.zIndex:10);x3A00.style.cursor="default";x3A00.Od1N$=null;x3A00.setZ(16383);if(x3A00.doShadow)domapi.shadow.dropShadow(x3A00);var p=domapi.mJ00.popupmenu;domapi.addEvent(x3A00,"mouseover",p.T3S);domapi.addEvent(x3A00,"mouseout",p.C06);domapi.addEvent(x3A00,"click",p.e2xtH);if(domapi.bags.popupmenu.length==1)domapi.addEvent(document,"click",p.har);x3A00.hide();domapi.disallowSelect(x3A00);x3A00.skipAdd=true;domapi.hl1(x3A00);return x3A00}finally{x3A00=null;p=null}};domapi.comps.popupmenu.Gk8HS=function(){for(var i=0;i<this.items.length;i++){if(this.items[i].childMenu){this.items[i].childMenu.G437n=null;this.items[i].childMenu=null;this.items[i].qQr=null}if(this.items[i].popupmenu){this.items[i].popupmenu.G437n=null;this.items[i].popupmenu=null}this.items[i].parent=null;this.items[i].oncontextmenu=null;this.items[i].radioGroup=null;this.items[i].setIndex=null;this.items[i].setChecked=null;this.items[i].onselected=null;this.items[i].G437n=null;this[this.items[i].name]=null;if(this.items[i].Gk8HS)this.items[i].Gk8HS()}this.G437n=null;this.items=null;this.Od1N$=null;this.onselected=null};domapi.comps.popupmenu.Q43hR=function(){this.E0Wn2()};domapi.comps.popupmenu.MR9=function(w,h){domapi.mJ00.popupmenu.iv3p8(this);domapi.mJ00.popupmenu.yt2(this)};domapi.comps.popupmenu.E0Wn2=function(){};domapi.comps.popupmenu.hide=function(){this.Lh6=this.getAbsX();this.xr93=this.getAbsY();this.moveTo(-10000,0);this.showing=false;if(domapi.useElmHooks)this._WqR("hide",arguments)};domapi.comps.popupmenu.show=function(x,y){this.showing=true;if(arguments.length==2)this.moveTo(x,y);else this.moveTo(this.Lh6,this.xr93);if(this.doShadow)domapi.shadow.U9x9r(this);if(domapi.useElmHooks)this._WqR("show",arguments);if(this.onpopup)this.onpopup()};domapi.comps.popupmenu.addItem=function(i2T25){if(i2T25["type"]=="separator")return this.addSeparator(i2T25);try{var x3A00=document.createElement("A");x3A00.DA_TYPE="MENUITEM";x3A00.className="DA_MENUITEM";domapi.VQ7(i2T25,"img",domapi.theme.skin.popupmenuStates.src);domapi.VQ7(i2T25,"visible",true);domapi.VQ7(i2T25,"text","Menuitem"+this.items.length+1);domapi.VQ7(i2T25,"name",String("mi "+i2T25.text).toMixedCase());domapi.VQ7(i2T25,"enabled",true);domapi.Imagelistlite({parent:x3A00,src:i2T25["img"],w:domapi.rInt(i2T25.imgW,16),h:domapi.rInt(i2T25.imgH,16)});var or1=document.createElement("SPAN");or1.innerHTML=i2T25.text;x3A00.appendChild(or1);var jvE76=document.createElement("SPAN");jvE76.className="DA_MENUITEM_CHEVRON";x3A00.appendChild(jvE76);this.appendChild(x3A00);if(domapi.isIE)x3A00.href="";if(!domapi.isKHTML){delete(i2T25["x"]);delete(i2T25["y"]);delete(i2T25["text"])}try{for(var i in i2T25)x3A00[i]=i2T25[i]}catch(E){throw new Error("Error applying '"+i+"="+i2T25[i]+"' in domapi.comps.popupmenu.addItem():\n"+E.message)}if(!this[x3A00.name])this[x3A00.name]=x3A00;if(!x3A00.enabled)this.setEnabled(x3A00,false);if(!x3A00.visible)this.hideItem(x3A00);if(!this.h982u){domapi.mJ00.popupmenu.yt2(this);domapi.mJ00.popupmenu.iv3p8(this)}if(x3A00.checked)this.setChecked(x3A00,true);return x3A00}finally{x3A00=null;or1=null;jvE76=null}};domapi.comps.popupmenu.addChildMenu=function(i2T25){if(typeof i2T25.parent=="undefined")i2T25.parent=0;var i=domapi.mJ00.popupmenu.P$VA(this,i2T25.parent);try{if(domapi.isKHTML)i2T25.parent=null;else delete(i2T25.parent);var x3A00=domapi.Popupmenu({doShadow:this.doShadow,doImages:this.doImages});var Fyr=i.getElementsByTagName("SPAN");Fyr[Fyr.length-1].innerHTML=this.chevron;try{for(var k$Vu in i2T25)x3A00[k$Vu]=i2T25[k$Vu]}catch(E){throw new Error("Error applying '"+k$Vu+"="+i2T25[k$Vu]+"' in domapi.comps.popupmenu.addChildMenu():\n"+E.message)}i.childMenu=x3A00;return i.childMenu}finally{i=null;x3A00=null;Fyr=null}};domapi.comps.popupmenu.setImage=function(i,src){i=domapi.mJ00.popupmenu.P$VA(this,i);i.childNodes[0].style.background='url("'+i2T25["src"]+'") 0 0 no-repeat';i=null};domapi.comps.popupmenu.addSeparator=function(){var x3A00=document.createElement("DIV");try{x3A00.className="DA_MENUITEMSEP";x3A00.DA_TYPE="MENUITEMSEP";this.appendChild(x3A00);if(!this.h982u){domapi.mJ00.popupmenu.iv3p8(this);domapi.mJ00.popupmenu.yt2(this)}return x3A00}finally{x3A00=null}};domapi.comps.popupmenu.removeItem=function(i){i=domapi.mJ00.popupmenu.P$VA(this,i);try{if(typeof i=="undefined"||!i)return null;var x3A00=i.parentNode.removeChild(i);this.layout();return x3A00}finally{i=null;x3A00=null}};domapi.comps.popupmenu.clear=function(){this.beginUpdate();try{for(var i=this.items.length;i>-1;i--)this.removeItem(i)}finally{this.endUpdate()}this.layout()};domapi.comps.popupmenu.getText=function(i){try{i=domapi.mJ00.popupmenu.P$VA(this,i);return i.childNodes[1].innerHTML}finally{i=null}};domapi.comps.popupmenu.setText=function(i,c){try{i=domapi.mJ00.popupmenu.P$VA(this,i);i.childNodes[1].innerHTML=c}finally{i=null}};domapi.comps.popupmenu.closeMenus=function(){var t;try{for(var i=0;i<this.items.length;i++){t=this.items[i];if(t.childMenu){t.childMenu.hide();t.isOpened=false;t.childMenu.closeMenus()}}}finally{t=null}};domapi.comps.popupmenu.attach=function(x3A00){x3A00.popupmenu=this;x3A00.oncontextmenu=domapi.mJ00.popupmenu.$1q;x3A00.onclick=domapi.mJ00.popupmenu.$1q};domapi.comps.popupmenu.setEnabled=function(i,b){var L4k17=domapi.mJ00.popupmenu.P$VA(this,i);try{if(L4k17.DA_TYPE!="MENUITEM")return;L4k17.disabled=!b;L4k17.enabled=b;L4k17.className=b?"DA_MENUITEM":"DA_MENUITEM_DISABLED";L4k17.childNodes[0].setIndex(b?0:1)}finally{L4k17=null}};domapi.comps.popupmenu.setChecked=function(i,b){var L4k17=domapi.mJ00.popupmenu.P$VA(this,i);try{var k$Vu;i=0;if(typeof L4k17.radioGroup!="undefined"&&b){i=(b?6:4);for(k$Vu=0;k$Vu<this.items.length;k$Vu++)if(this.items[k$Vu].radioGroup==L4k17.radioGroup){this.items[k$Vu].checked=false;if(this.items[k$Vu].childNodes[0])this.items[k$Vu].childNodes[0].setIndex(4)}}else{i=(b?2:0)}if(!L4k17.enabled)i++;L4k17.checked=b;L4k17.childNodes[0].setIndex(i)}finally{L4k17=null}};domapi.comps.popupmenu.hideItem=function(i,p){i=domapi.mJ00.popupmenu.P$VA(this,i);try{if(p||p>-1)this.items[p].childMenu[i.name].hide();else i.style.display="none";domapi.mJ00.popupmenu.iv3p8(this);domapi.mJ00.popupmenu.yt2(this)}finally{i=null}};domapi.comps.popupmenu.showItem=function(i,p){i=domapi.mJ00.popupmenu.P$VA(this,i);try{if(p||p>-1)this.items[p].childMenu[i.name].style.display="";else i.style.display="";domapi.mJ00.popupmenu.iv3p8(this);domapi.mJ00.popupmenu.yt2(this)}finally{i=null}};domapi.comps.popupmenu.loadFromJson=function(Vt554){var i,k$Vu,bM2,Fyr,x3A00,m,yt0;try{for(i in Vt554){if(i=="items"){Fyr=Vt554[i];for(k$Vu=0;k$Vu<Fyr.length;k$Vu++){if(Fyr[k$Vu].type&&Fyr[k$Vu].type=="separator")this.addSeparator();else{x3A00=this.addItem(Fyr[k$Vu]);if(Fyr[k$Vu].childMenu){yt0={};for(bM2 in Fyr[k$Vu].childMenu)if(bM2!="items")yt0[bM2]=Fyr[k$Vu].childMenu[bM2];yt0.parent=x3A00;m=this.addChildMenu(yt0);m.loadFromJson(Fyr[k$Vu].childMenu)}}}}else this[i]=Vt554[i]}}finally{Fyr=null;x3A00=null;yt0=null;m=null}};domapi.mJ00.popupmenu.T3S=function(E){var x3A00=domapi.findTarget(E,"A");try{if(!x3A00)return;var r=domapi.findTarget(E,"POPUPMENU");if(x3A00.DA_TYPE=="MENUITEMSEP"||x3A00.disabled)return;if(r.Od1N$)clearTimeout(r.Od1N$);domapi.mJ00.popupmenu.d9n$7(x3A00);if(x3A00.childMenu&&x3A00.childMenu.moveTo){domapi.mJ00.popupmenu.j44(x3A00.childMenu);if(r.parentNode)r.parentNode.isOpen=true;x3A00.childMenu.setZ(r.getZ()+10);x3A00.childMenu.show(r.getX()+r.getW()-2,r.getY()+x3A00.offsetTop-2);if(x3A00.childMenu.doShadow)domapi.shadow.U9x9r(x3A00.childMenu)}}finally{x3A00=null;r=null}};domapi.mJ00.popupmenu.C06=function(E){var x3A00=domapi.findTarget(E,"A");try{if(!x3A00)return;if(x3A00.DA_TYPE=="MENUITEMSEP"||x3A00.disabled)return;if(x3A00.childMenu){if(x3A00.childMenu.Od1N$)clearTimeout(x3A00.childMenu.Od1N$);var i=domapi.bags.elms.indexOf(x3A00.childMenu);x3A00.childMenu.Od1N$=setTimeout("domapi.bags.elms["+i+"].hide()",400)}}finally{x3A00=null}};domapi.mJ00.popupmenu.e2xtH=function(E){var x3A00=domapi.findTarget(E,"MENUITEM");try{if(!x3A00)return;var r=domapi.findTarget(E,"POPUPMENU");var m=r;if(x3A00.DA_TYPE=="MENUITEMSEP"||x3A00.disabled)return false;if(!x3A00.childMenu)domapi.mJ00.popupmenu.P_5T();if(x3A00.onselected){if(typeof x3A00.onselected=="function")x3A00.onselected(x3A00);else eval(x3A00.onselected)}if(typeof x3A00.radioGroup!="undefined")r.setChecked(x3A00,true);if(x3A00.autoCheck)r.setChecked(x3A00,!x3A00.checked);if(r.onselected)r.onselected(r,domapi.getNodeIndex(x3A00));return false}finally{x3A00=null;r=null;m=null}};domapi.mJ00.popupmenu.har=function(E){var x3A00=domapi.findTarget(E,"POPUPMENU");try{if(x3A00)return;var x3A00=domapi.findTarget(E,"MENUITEM");if(x3A00)return;var x3A00=domapi.findTarget(E,"MENUBUTTON");if(x3A00)return;var x3A00=domapi.findTarget(E,"MENUBAR");if(x3A00)return;var p=domapi.mJ00.popupmenu;if(p.w02){p.w02=false;return false}p.P_5T()}finally{x3A00=null;p=null}};domapi.mJ00.popupmenu.P_5T=function(){var b=domapi.bags.popupmenu;for(var i=0;i<b.length;i++)b[i].hide();var b=domapi.bags.menubar;if(b)for(i=0;i<b.length;i++)b[i].closeItems();b=null};domapi.mJ00.popupmenu.$1q=function(E){domapi.mJ00.popupmenu.P_5T();domapi.preventBubble(E);var m=this.popupmenu;try{domapi.mJ00.popupmenu.j44(m);m.G437n=this;m.hide();if(domapi.isIE)m.moveTo(event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,event.clientY+document.documentElement.scrollTop+document.body.scrollTop);else m.moveTo(E.clientX+window.scrollX,E.clientY+window.scrollY);m.style.display="";if(m.doShadow)domapi.shadow.EcSG(m);return false}finally{m=null}};domapi.mJ00.popupmenu.d9n$7=function(x3A00){x3A00=x3A00.parentNode.childNodes;try{for(var i=0;i<x3A00.length;i++)if(x3A00[i].childMenu){if(x3A00[i].childMenu.Od1N$)clearTimeout(x3A00[i].childMenu.Od1N$);x3A00[i].childMenu.hide()}}finally{x3A00=null}};domapi.mJ00.popupmenu.iv3p8=function(x3A00){var i,L4k17,w,maxW;try{maxW=0;for(i=0;i<x3A00.items.length;i++){L4k17=x3A00.items[i];if(L4k17.style.display!="none"&&L4k17.DA_TYPE!="MENUITEMSEP"){w=x3A00.items[i].childNodes[1].offsetWidth;if(w>maxW)maxW=w}}x3A00.setW(maxW+16*4);for(i=0;i<x3A00.items.length;i++){L4k17=x3A00.items[i];if(L4k17.childMenu){w=L4k17.childNodes[1].offsetWidth;w=maxW-w+16;if(w<0)w=0;L4k17.childNodes[L4k17.childNodes.length-1].style.paddingLeft=w+"px"}}}finally{L4k17=null}};domapi.mJ00.popupmenu.yt2=function(x3A00){for(var i=x3A00.items.length-1;i>-1;i--)if(x3A00.items[i].style.display!="none"){x3A00.setH(x3A00.items[i].offsetTop+x3A00.items[i].offsetHeight+(x3A00.getP()[0]*2)+(domapi.isIE?3:-1));break}};domapi.mJ00.popupmenu.P$VA=function(x3A00,i){if(typeof i=="number")return x3A00.items[i];else return i};domapi.mJ00.popupmenu.j44=function(x3A00){if(!x3A00.added){if(typeof x3A00.parent=="undefined"||!x3A00.parent||!x3A00.parent.appendChild)x3A00.parent=document.body;try{x3A00.parent.appendChild(x3A00);if(x3A00.qQr)x3A00.parent.appendChild(x3A00.qQr)}catch(E){document.body.appendChild(x3A00);if(x3A00.qQr)document.body.appendChild(x3A00.qQr)}x3A00.added=true;x3A00.MR9()}};