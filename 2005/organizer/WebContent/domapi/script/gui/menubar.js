/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.loadUnit("popupmenu");domapi.registerComponent("menubar");domapi.Menubar=function(i2T25){return domapi.comps.menubar.constructor(i2T25)};domapi.comps.menubar.constructor=function(i2T25){var x3A00=domapi.Component(i2T25,"menubar");var s=x3A00.style;try{x3A00.items=x3A00.childNodes;x3A00.opened=false;x3A00.setZ(1);x3A00.isOpened=false;x3A00.hideAllMenus=domapi.comps.popupmenu.hideAllMenus;domapi.disallowSelect(x3A00);x3A00.T5f=-1;x3A00.f$_9=-1;x3A00.openedItem=null;var p=domapi.mJ00.menubar;domapi.addEvent(x3A00,"mouseover",p.T3S);domapi.addEvent(x3A00,"mousedown",p.Sw_7);domapi.addEvent(x3A00,"click",p.e2xtH);domapi.hl1(x3A00);return x3A00}finally{s=null;x3A00=null}};domapi.comps.menubar.Gk8HS=function(){for(var i=0;i<this.items.length;i++){this.items[i].parent=null;this.items[i].G437n=null;this.items[i].childMenu=null;this[this.items[i].name]=null}this.G437n=null;this.items=null;this.Od1N$=null;this.onselected=null;this.openedItem=null};domapi.comps.menubar.Q43hR=function(){this.v75()};domapi.comps.menubar.MR9=function(){};domapi.comps.menubar.v75=function(){};domapi.comps.menubar.addItem=function(i2T25){var x3A00=document.createElement("A");try{x3A00.DA_TYPE="DA_MENUBUTTON";x3A00.className="DA_MENUBUTTON";domapi.VQ7(i2T25,"visible",true);domapi.VQ7(i2T25,"text","Menuitem"+this.items.length+1);domapi.VQ7(i2T25,"name",String("mi "+i2T25.text).toMixedCase());domapi.VQ7(i2T25,"enabled",true);x3A00.innerHTML=i2T25.text;this.appendChild(x3A00);if(domapi.isIE)x3A00.href="";if(!domapi.isKHTML){delete(i2T25["x"]);delete(i2T25["y"]);delete(i2T25["text"])}try{for(var i in i2T25)x3A00[i]=i2T25[i]}catch(E){throw new Error("Error applying '"+i+"="+i2T25[i]+"' in domapi.comps.popupmenu.addItem():\n"+E.message)}if(!this[x3A00.name])this[x3A00.name]=x3A00;if(!x3A00.enabled)this.setEnabled(x3A00,false);if(!x3A00.visible)this.hideItem(x3A00);x3A00.childMenu=domapi.Popupmenu({doShadow:this.doShadow,doImages:this.doImages});x3A00.addItem=domapi.comps.popupmenu.closeMenus.addItem;return x3A00}finally{x3A00=null}};domapi.comps.menubar.openItem=function(i){var L4k17=domapi.mJ00.popupmenu.P$VA(this,i);try{this.closeLastItem();this.openedItem=L4k17;this.positionMenu(L4k17);L4k17.className="DA_MENUBUTTON_ACTIVE";this.opened=true;if(this.onselected)this.onselected(L4k17)}finally{L4k17=null}};domapi.comps.menubar.closeItems=function(){var c=this.items;try{for(var i=0;i<c.length;i++){c[i].childMenu.closeMenus();c[i].className=(c[i].enabled?"DA_MENUBUTTON":"DA_MENUBUTTON_DISABLED");c[i].childMenu.hide()}this.opened=false}finally{c=null}};domapi.comps.menubar.closeLastItem=function(){if(this.openedItem)try{var L4k17=this.openedItem;L4k17.childMenu.closeMenus();L4k17.className=(L4k17.enabled?"DA_MENUBUTTON":"DA_MENUBUTTON_DISABLED");L4k17.childMenu.hide();this.openedItem=null;this.opened=false}finally{L4k17=null}};domapi.comps.menubar.positionMenu=function(i){var L4k17=domapi.mJ00.popupmenu.P$VA(this,i);try{var x,y;var m=L4k17.childMenu;if(!m.added){if(!m.parent)m.parent=document.body;m.parent.appendChild(m);m.added=true}m.MR9();x=L4k17.offsetLeft+(domapi.isIE?0:1)+this.popupX;y=this.getH()-(domapi.isIE?2:2)+this.popupY;var nF9vw=domapi.getTrueOffset(this);x+=nF9vw[0];y+=nF9vw[1];m.bringToFront();m.moveTo(x,y);if(m.doShadow)domapi.shadow.EcSG(m)}finally{L4k17=null;m=null}};domapi.comps.menubar.setEnabled=function(i,b){var L4k17=domapi.mJ00.popupmenu.P$VA(this,i);try{L4k17.disabled=!b;L4k17.enabled=b;L4k17.className=b?"DA_MENUBUTTON":"DA_MENUBUTTON_DISABLED";if(L4k17.childNodes[0].setIndex)L4k17.childNodes[0].setIndex(b?0:1)}finally{L4k17=null}};domapi.mJ00.menubar.T3S=function(E){var x3A00=domapi.findTarget(E,"A");try{if(!x3A00||!x3A00.enabled)return;var r=domapi.findTarget(E,"MENUBAR");if(r.opened)r.openItem(domapi.getNodeIndex(x3A00))}finally{x3A00=null;r=null}};domapi.mJ00.menubar.Sw_7=function(E){var x3A00=domapi.findTarget(E,"A");try{if(!x3A00)return;if(x3A00.disabled)return;var r=domapi.findTarget(E,"MENUBAR");if(r.opened)r.closeLastItem();else r.openItem(domapi.getNodeIndex(x3A00));return false}finally{x3A00=null;r=null}};domapi.mJ00.menubar.e2xtH=function(E){return false};domapi.mJ00.menubar.P$VA=function(x3A00,i){if(typeof i=="number")return x3A00.items[i];else return i};domapi.comps.menubar.loadFromJson=function(Vt554){var i,Fyr,k$Vu,x3A00;try{for(i in Vt554){if(i=="items"){Fyr=Vt554[i];for(k$Vu=0;k$Vu<Fyr.length;k$Vu++){x3A00=this.addItem(Fyr[k$Vu]);if(Fyr[k$Vu].childMenu)x3A00.childMenu.loadFromJson(Fyr[k$Vu].childMenu)}}else this[i]=Vt554[i]}}finally{Fyr=null;x3A00=null}};