/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.loadUnit("calendar");domapi.registerComponent("datepicker2");domapi.Datepicker2=function(i2T25){return domapi.comps.datepicker2.constructor(i2T25)};domapi.comps.datepicker2.constructor=function(i2T25){var x3A00=domapi.Component(i2T25,"datepicker2");try{x3A00.w7U1b=document.createElement("INPUT");x3A00.img=document.createElement("IMG");x3A00.calendar=domapi.Calendar({mode:"compact",x:0,y:0,w:135,h:130,doMultiSelect:false,mask:i2T25["mask"],doIframeShield:true});x3A00.img.style.position="relative";x3A00.img.width=i2T25["imgW"];x3A00.img.height=i2T25["imgH"];x3A00.img.src=i2T25["src"];x3A00.img.align="absmiddle";x3A00.img.style.cursor=domapi.cursors.hand;x3A00.img.title=i2T25["hint"];x3A00.appendChild(x3A00.w7U1b);x3A00.appendChild(x3A00.img);x3A00.style.whiteSpace="nowrap";x3A00.style.overflow="hidden";x3A00.w7U1b.style.marginRight="3px";x3A00.calendar.hide();x3A00.calendar.parent=x3A00;x3A00.opened=false;x3A00.w7U1b.style.height="100%";x3A00.img.DA_TYPE="DATEPICKER2_IMG";var p=domapi.mJ00.datepicker2;domapi.addEvent(x3A00.w7U1b,"focus",p.B8hK);domapi.addEvent(x3A00.img,"click",p.GjPH8);x3A00.calendar.onbeforechange=p.AqV;x3A00.calendar.ondaychange=p.R277;x3A00.w7U1b.onchange=p.O880;x3A00.calendar.setDate(i2T25.value,'D');x3A00.calendar.ondaychange();domapi.hl1(x3A00);if(!x3A00.enabled)x3A00.setEnabled(false);x3A00.setZ(x3A00.getZ());if(!p.FuN){domapi.addEvent(document,"click",p.har);p.FuN=true}return x3A00}finally{x3A00=null}};domapi.comps.datepicker2.Gk8HS=function(){this.w7U1b=null;this.img=null;this.calendar.parent=null;this.calendar=null};domapi.comps.datepicker2.Q43hR=function(){this.Evd2I()};domapi.comps.datepicker2.Evd2I=function(){};domapi.comps.datepicker2.MR9=function(w,h){this.w7U1b.style.width=w-this["imgW"]-(domapi.isIE?9:5)+"px";this.calendar.setZ(this.getZ())};domapi.comps.datepicker2.setZ=function(_5P){_5P=domapi.rInt(_5P);this.style.zIndex=_5P;this.calendar.style.zIndex=_5P};domapi.comps.datepicker2.setDate=function(Qg355){Qg355=sysutils.isDate(Qg355,this.mask);this.setValue(Qg355)};domapi.comps.datepicker2.DJL20=function(Qg355){if(this.value==Qg355)return false;this.value=Qg355;var b=this.calendar.setDate(Qg355);var E0E=this.getValue();if(b)this.setFormValue(E0E);this.w7U1b.value=E0E;return false};domapi.comps.datepicker2.Se1=function(){return sysutils.formatDate(this.value,this.mask)};domapi.comps.datepicker2.j0_Qg=function(b){domapi.css.addClass(this,"DA_INACTIVEBUTTONFACE",!b);this.disabled=!b};domapi.comps.datepicker2.wyl2X=function(){this.w7U1b.value=this.getValue()};domapi.comps.datepicker2.open=function(){var p=domapi.getTrueOffset(this);this.calendar.moveTo(p[0],p[1]+this.getH());this.calendar.show();this.opened=true;this.calendar.bringToFront()};domapi.comps.datepicker2.close=function(){this.calendar.hide();this.opened=false};domapi.mJ00.datepicker2.B8hK=function(E){domapi.findTarget(E,"DATEPICKER2").w7U1b.select()};domapi.mJ00.datepicker2.GjPH8=function(E){var x3A00=domapi.findTarget(E,"DATEPICKER2");try{if(x3A00.opened)x3A00.close();else x3A00.open()}finally{x3A00=null}};domapi.mJ00.datepicker2.AqV=function(E0E){return this.parent.onbeforechange(E0E)};domapi.mJ00.datepicker2.R277=function(){var r=this.parent;r.value=this.value;r.w7U1b.value=r.getValue();r.setFormValue(r.w7U1b.value);if(r.autoClose&&r.opened)r.close();if(r.onchange)r.onchange(r.value)};domapi.mJ00.datepicker2.O880=function(E){domapi.preventBubble(E);var r=this.parentNode;var ghw=sysutils.isDate(domapi.lang.fuzzyDateParse(this.value,r.mask),r.mask);if(!ghw){alert(domapi.formatGetString("VAL_DATE",[this.value,r.mask]));this.value=r.getValue();this.select();return false}r.calendar.setDate(ghw,"I");r.value=ghw;r.wyl2X();this.select();if(r.onchange)r.onchange(r.value)};domapi.mJ00.datepicker2.har=function(E){var x3A00=domapi.getTarget(E);try{if(x3A00.DA_TYPE=="DATEPICKER2_IMG")return;var c=domapi.findParent(x3A00,"CALENDAR");if(c&&c.parent&&c.parent.DA_TYPE=="DATEPICKER2")return;var B=domapi.bags.datepicker2;var i;for(i=0;i<B.length;i++)B[i].close()}finally{x3A00=null;c=null}};