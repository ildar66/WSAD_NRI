/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
if(typeof sysutils!="Object")sysutils={};sysutils.now=function(){return new Date()};sysutils.monthLength=[31,28,31,30,31,30,31,31,30,31,30,31];sysutils.defaultDateMask=domapi.getString("DATE_FORMAT");sysutils.isInteger=function(s){return s==parseInt(s,10)};sysutils.isFloat=function(s){if(domapi.isNil(s))return false;return s==String(s).match(new RegExp("[+-]{0,1}\\d*\\.{0,1}\\d*"))[0]};sysutils.isMoney=function(s){if(domapi.isNil(s))return false;return s==String(s).match(new RegExp("^\\${0,1}\\d*\\.{0,1}\\d{0,2}"))[0]};sysutils.isStateCode=function(s){return domapi.lang["STATECODES"].indexOf(String(s).toUpperCase())>-1};sysutils.isEmail=function(s){if(domapi.isNil(s))return false;return s==String(s).match(new RegExp("\\S+@([-\\w]+\\.)+\\w+","g"))};sysutils.isURL=function(s){if(domapi.isNil(s))return false;return s==String(s).match(new RegExp("\\w{2,}:\\/{2}([-\\w]+\\.)+\\w+\\S*","g"))};sysutils.isTelephone=function(s){if(domapi.isNil(s))return false;var r=String(s).replace(new RegExp("\\D+","g"),'-');r=r.match(new RegExp("(\\d+-?)*(\\d{3}-?){2}\\d{4}","g"));return!domapi.isNil(r)};sysutils.isCreditCardNumber=function(s){if(domapi.isNil(s))return false;s=s.replace(new RegExp("\\D+","g"),'');return this.TlpRx(s)};String.prototype.trim=function(){var s=this.replace(new RegExp("^\\s+","g"),"");return s.replace(new RegExp("\\s+$","g"),"")};sysutils.trim=function(s){if(domapi.isNil(s))return s;s=String(s).replace(new RegExp("^\\s+","g"),"");return s.replace(new RegExp("\\s+$","g"),"")};sysutils.rightStr=function(s,_8xC){s=String(s);return s.substr(s.length-_8xC,_8xC)};sysutils.filterChars=function(s,c){return String(s).split(c).join("")};sysutils.filterCharsNoCase=function(s,c){return String(s).split(String(c).toLowerCase()).join("").split(String(c).toUpperCase()).join("")};sysutils.formatString=function(s,p){if(!p||!p.length)return s;var r=s;var NO521;for(var a=0;a<p.length;a++){NO521=new RegExp("%"+(a+1),"g");r=r.replace(NO521,p[a])}return r};sysutils.filterNonDigits=function(s){return String(s).replace(new RegExp("[^\\d\\.]","g"),"")};sysutils.padZeros=function(s,_8xC){s=String(s);while(s.length<_8xC)s="0"+s;return s};sysutils.dayOfMonthStr=function(i){return domapi.lang.dayOfMonthStr(i)};if(typeof Number.prototype.toFixed!="undefined")sysutils.roundTo=function(s,p8Td){return Number(s).toFixed(p8Td)};else sysutils.roundTo=function(s,p8Td){var r,i,a,b,c;r=s*Math.pow(10,p8Td);r=Math.round(r);c=String(r).length;r=String(r/Math.pow(10,p8Td));if(isNaN(r))return r;i=r.indexOf(".");if(i<1){r+=".";for(a=0;a<p8Td;a++)r+="0"}else{b=r.length-i-1;for(a=0;a<p8Td-b;a++)r+="0";r=r.substr(0,c+1+p8Td)}return r};sysutils.bintodec=function(s){return parseInt(s,2)};sysutils.dectobin=function(i){return parseInt(i).toString(2)};sysutils.TlpRx=function(s){var p=0,x3A00=8,t=0,c=[],r=0,l=0,i;if(s.length!=16){t=1;x3A00=s.length==13&&6||s.length==15&&7}for(i=p;i<x3A00;i++)r+=(c[i]=s.charAt(i*2+t)*2)>9?Math.floor(c[i]/10+c[i]%10):c[i];for(i=p;i<x3A00+t;i++)l+=s.charAt(i*2+1-t)-0;l+=r;return x3A00&&l%10==0};sysutils.makeFourDigitYear=function(s){if(domapi.isNil(s)){throw new Error("sysutils.makeFourDigitYear called with empty param!");return this.now().getFullYear()}if(String(s).length>2)return s;if(parseInt(s)<50)return "20"+sysutils.padZeros(s,2);else return "19"+s};sysutils.getMonthLength=function(m,y){y=sysutils.makeFourDigitYear(y);m=parseInt(m,10);if(m==1)if(y/4==Math.floor(y/4)||y/400==Math.floor(y/400))return 29;return sysutils.monthLength[m]};sysutils.addDaysToDate=function(p8Td,_8xC){return p8Td.setDate(p8Td.getDate()+parseInt(_8xC))};sysutils.addMonthsToDate=function(p8Td,_8xC){var Nrp16=p8Td.getDate();p8Td.setMonth(p8Td.getMonth()+_8xC);if(p8Td.getDate()<Nrp16){p8Td.setDate(1);p8Td.setDate(p8Td.getDate()-1)}return p8Td};sysutils.formatDate=function(p8Td,__4){__4=domapi.rVal(__4,sysutils.defaultDateMask);var del=null;if(__4.indexOf("/")>-1)del="/";else if(__4.indexOf("-")>-1)del="-";else if(__4.indexOf(".")>-1)del=".";if(!del)return;__4=__4.split(del);p8Td=new Date(p8Td);for(var a=0;a<__4.length;a++){__4[a]=sysutils.trim(__4[a].toUpperCase());if(__4[a].charAt(0)=="M")__4[a]=sysutils.padZeros(p8Td.getMonth()+1,__4[a].length);if(__4[a].charAt(0)=="D")__4[a]=sysutils.padZeros(p8Td.getDate(),__4[a].length);if(__4[a].charAt(0)=="Y")__4[a]=sysutils.padZeros(sysutils.rightStr(p8Td.getFullYear(),__4[a].length))}var r=__4[0];for(a=1;a<__4.length;a++)r+=del+__4[a];return r};sysutils.isDate=function(p8Td,__4){if(p8Td!==p8Td.toString())return p8Td;p8Td=String(p8Td).trim();__4=domapi.rVal(__4,sysutils.defaultDateMask);var del=null;if(__4.indexOf("/")>-1)del="/";else if(__4.indexOf("-")>-1)del="-";else if(__4.indexOf(".")>-1)del=".";if(!del)return false;__4=__4.split(del);p8Td=p8Td.split(del);if(p8Td.length!=__4.length)return false;var L__6G=null;var n03M=null;var F$$=null;for(var a=0;a<__4.length;a++){__4[a]=__4[a].toUpperCase().trim();if(p8Td[a].trim()=="")return false;if(__4[a].charAt(0)=="M")L__6G=sysutils.padZeros(p8Td[a],__4[a].length);if(__4[a].charAt(0)=="D")n03M=sysutils.padZeros(p8Td[a],__4[a].length);if(__4[a].charAt(0)=="Y")F$$=parseInt(p8Td[a])}F$$=sysutils.makeFourDigitYear(F$$);if(!sysutils.isInteger(L__6G)||!sysutils.isInteger(n03M)||!sysutils.isInteger(F$$))return false;if((L__6G<1)||(L__6G>12))return false;if((n03M<1)||(n03M>sysutils.getMonthLength(L__6G-1,F$$)))return false;L__6G=parseInt(L__6G,10)-1;n03M=parseInt(n03M,10);F$$=parseInt(F$$,10);if(F$$<1972)return false;return new Date(F$$,L__6G,n03M)};sysutils.getStartDay=function(m,y){var F3h2=new Date();F3h2.setDate(1);F3h2.setMonth(m);F3h2.setFullYear(y);return F3h2.getDay()};sysutils.getWeekOfMonth=function(m,p8Td,y){var startDay=this.getStartDay(m,y);return parseInt((startDay+p8Td-1)/7)+1};sysutils.createDate=function(m,p8Td,y){return new Date(parseInt(y,10),parseInt(m,10),parseInt(p8Td,10))};sysutils.daysSince=function(DJ0P2,B9mg){return Math.abs(Math.floor((DJ0P2-B9mg)/86400000))};sysutils.findFirstDay=function(_8xC,p8Td,m,y){var Qg355=new Date(y,m,1);Qg355.setDate((7*_8xC)-6+(7+p8Td-Qg355.getDay())%7);return Qg355.getDate()};sysutils.nextMonday=function(p8Td,m,y){var Qg355=new Date(y,m,p8Td).getDay();return+p8Td+(Qg355==0?+1:Qg355==6?+2:0)};sysutils.easterSunday=function(y){var nd4f8=Math.floor(y/100);var Bu88o=nd4f8-Math.floor(nd4f8/4);var olq2=y%19;var $03=(15+19*olq2+Bu88o-Math.floor((nd4f8+1-Math.floor((nd4f8+8)/25))/3))%30;var w959c=$03-Math.floor((olq2+11*$03)/319);var P6c=22+w959c+(140004-(y+Math.floor(y/4))%7+Bu88o-w959c)%7;if(P6c>31)return[3,P6c-31];else return[2,P6c]};sysutils.removeTags=function(s,K3944){var eXu8=s;var NO521=new RegExp();NO521.ignoreCase=true;NO521.global=true;if(K3944!=1){NO521.SUs74="<[^>]*>";eXu8=NO521.Replace(eXu8,"")}if(K3944>0&&K3944<3){NO521.SUs74="[<]";eXu8=NO521.Replace(eXu8,"<");NO521.SUs74="[>]";eXu8=NO521.Replace(eXu8,">")}NO521=null;return eXu8};