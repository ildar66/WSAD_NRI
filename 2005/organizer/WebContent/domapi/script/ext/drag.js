/*
Copyright (c) Nebiru Software 2001, 2005
  Compressed and obfuscated by JSCruncher Pro.
  http://domapi.com/jscruncherpro
*/
domapi.drag={};domapi.drag.dtNormal=1;domapi.drag.dtDragDrop=5;domapi.drag.dtCustom=6;domapi.drag.AcI$7=16;domapi.dragObj={elm:null,trueElm:null,DragStart:null,DragMove:null,DragEnd:null,cursorStartX:0,cursorStartY:0,bM2:1,inDrag:false,source:null,k49:null,dest:null,OB24:true,j2c2:null,index:-1,Olm1c:false,XA3F1:0,dragThreshold:0,DA_TYPE:"DRAG"};domapi.drag.Gk8HS=function(){domapi.drag.Gwo3=[];$0h(domapi.dragObj)};domapi.drag.Gwo3=[];domapi.drag.registerDropContainer=function(x3A00,EGfF){domapi.drag.Gwo3.push(x3A00);x3A00.RS2=EGfF};domapi.elmProto.turnOnDrag=function(t,bM2,M2F$A,l68,K1w6,f0om){this.G3SW2=t;bM2=domapi.rInt(bM2,domapi.drag.dtNormal);M2F$A=domapi.rInt(M2F$A,4);this.l150b=function(E){domapi.drag.dragStart(E,t,bM2,M2F$A,l68,K1w6,f0om)};domapi.addEvent(this,"mousedown",this.l150b)};domapi.elmProto.turnOffDrag=function(){domapi.removeEvent(this,"mousedown",this.l150b);domapi.dragObj.inDrag=false};domapi.elmProto.G3SW2=null;domapi.elmProto.v7t0=null;domapi.elmProto.LUbT=function(SY$8g){if(this.G3SW2==null){this.v7t0=SY$8g}else{this.G3SW2.v7t0=SY$8g}};domapi.elmProto.cancelDrag=function(){domapi.dragObj.inDrag=false;domapi.dragObj.XA3F1=0;domapi.removeEvent(document,"mousemove",domapi.drag.dragGo);domapi.removeEvent(document,"mouseup",domapi.drag.dragStop);if(domapi.dragObj.bM2==domapi.drag.dtDragDrop){if(domapi.dragObj.elm.v7t0==null){domapi.insertElm(this,domapi.dragObj.source,domapi.dragObj.k49);if(domapi.dragObj.A2NC!=null){domapi.dragObj.elm.setPosition(domapi.dragObj.A2NC);domapi.dragObj.A2NC=null}}else{domapi.dragObj.elm.v7t0.hide()}if(domapi.dragObj.j2c2!=null&&domapi.dragObj.j2c2.RS2!=null){domapi.dragObj.j2c2.RS2.hide()}if(domapi.dragObj.dest){if(typeof domapi.dragObj.dest.draw=="function")domapi.dragObj.dest.draw()}}};domapi.drag.dragStart=function(x3A00,t,bM2,M2F$A,l68,K1w6,f0om){if(domapi.dragObj.inDrag)return;domapi.dragObj.bM2=bM2;domapi.dragObj.dragThreshold=M2F$A;domapi.dragObj.DragStart=l68;domapi.dragObj.DragMove=K1w6;domapi.dragObj.DragEnd=f0om;domapi.dragObj.dest=null;domapi.dragObj.j2c2=null;domapi.dragObj.Olm1c=false;domapi.dragObj.trueElm=domapi.getTarget(x3A00);if(domapi.isIE){switch(x3A00.button){case 1:domapi.dragObj.button='left';break;case 2:domapi.dragObj.button='right';break;case 3:domapi.dragObj.button='middle';break}}else{switch(x3A00.which){case 1:domapi.dragObj.button='left';break;case 2:domapi.dragObj.button='middle';break;case 3:domapi.dragObj.button='right';break}}if(t)domapi.dragObj.elm=t;else{domapi.dragObj.elm=domapi.getTarget(x3A00);if(domapi.dragObj.elm.nodeType==3||domapi.dragObj.elm.nodeName=="IMG")domapi.dragObj.elm=domapi.dragObj.elm.parentNode}if(typeof domapi.dragObj.elm.getX!="function")return;if(domapi.dragObj.elm.notDraggable||domapi.dragObj.trueElm.notDraggable)return;domapi.dragObj.inDrag=true;domapi.preventBubble(x3A00);if(domapi.isGecko)x3A00.preventDefault();domapi.dragObj.cursorStartX=domapi.isIE?event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft:x3A00.clientX+window.scrollX;domapi.dragObj.cursorStartY=domapi.isIE?event.clientY+document.documentElement.scrollTop+document.body.scrollTop:x3A00.clientY+window.scrollY;domapi.dragObj.index=domapi.getNodeIndex(domapi.dragObj.elm);if(domapi.dragObj.elm.previousSibling!=null){domapi.dragObj.source=domapi.dragObj.elm.previousSibling;domapi.dragObj.k49="afterEnd"}else{domapi.dragObj.source=domapi.dragObj.elm.parentNode;domapi.dragObj.k49="afterBegin"}domapi.dragObj.E03E$=domapi.rInt(domapi.dragObj.elm.getAbsX());domapi.dragObj.g28r2=domapi.rInt(domapi.dragObj.elm.getAbsY());domapi.dragObj.elm.inDrag=false;if(domapi.dragObj.elm.v7t0==null){domapi.dragObj.elm.bringToFront()}domapi.dragObj.A2NC=null;domapi.addEvent(document,"mousemove",domapi.drag.dragGo);domapi.addEvent(document,"mouseup",domapi.drag.dragStop);if(domapi.dragObj.DragStart)domapi.dragObj.DragStart(domapi.dragObj.cursorStartX,domapi.dragObj.cursorStartY)};domapi.drag.dragGo=function(x3A00){domapi.preventBubble(x3A00);var i,k$Vu,x,y,t,e2Y9G,elm,OB24;var pY2=domapi.isIE?event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft:x3A00.clientX+window.scrollX;var m4$=domapi.isIE?event.clientY+document.documentElement.scrollTop+document.body.scrollTop:x3A00.clientY+window.scrollY;var XKE=domapi.dragObj.E03E$+pY2-domapi.dragObj.cursorStartX;var n0r7=domapi.dragObj.g28r2+m4$-domapi.dragObj.cursorStartY;var dX=pY2-domapi.dragObj.cursorStartX;var dY=m4$-domapi.dragObj.cursorStartY;var l5U=domapi.dragObj.j2c2;domapi.dragObj.dest=null;domapi.dragObj.j2c2=null;var S9_;for(k$Vu=0;k$Vu<domapi.drag.Gwo3.length;k$Vu++){e2Y9G=domapi.drag.Gwo3[k$Vu];x=domapi.getAbsX(e2Y9G);if(domapi.isKHTML)x+=document.body.scrollLeft;if(pY2>=x&&pY2<(x+e2Y9G.offsetWidth)){y=domapi.getAbsY(e2Y9G);if(domapi.isKHTML)y+=document.body.scrollTop;if(m4$>=y&&m4$<(y+e2Y9G.offsetHeight)){domapi.dragObj.j2c2=e2Y9G;S9_=true;for(i=0;i<e2Y9G.childNodes.length;i++){elm=e2Y9G.childNodes[i];if(domapi.dragObj.elm!=elm){if(typeof elm.getAbsY=='function'){y=elm.getAbsY();if(domapi.isKHTML)y+=document.body.scrollTop;if(S9_){domapi.dragObj.dest=elm;domapi.dragObj.OB24=true;S9_=false}if(m4$>(y+elm.getH()/2)){domapi.dragObj.dest=elm;domapi.dragObj.OB24=false}}}}}}}e2Y9G=null;if(!domapi.dragObj.Olm1c){if((Math.abs(dX)>domapi.dragObj.dragThreshold)||(Math.abs(dY)>domapi.dragObj.dragThreshold)){domapi.dragObj.Olm1c=true;if(domapi.useElmHooks&&domapi.dragObj.elm._WqR)domapi.dragObj.elm._WqR("dragStart",arguments);if(domapi.dragObj.bM2==domapi.drag.dtDragDrop){if(domapi.dragObj.elm.v7t0==null){domapi.insertElm(domapi.dragObj.elm,domapi.bodyElm(),"beforeEnd");domapi.dragObj.A2NC=domapi.dragObj.elm.getPosition();domapi.dragObj.elm.setPosition("absolute")}else{domapi.dragObj.elm.v7t0.show()}}}else return;if(domapi.dragObj.Olm1c){}}if(domapi.dragObj.Olm1c&&domapi.dragObj.DragMove){domapi.dragObj.DragMove(XKE,n0r7,dX,dY);return};if(x3A00.clientY<domapi.drag.AcI$7){var Y4_x=domapi.scrollTop()-domapi.drag.AcI$7;if(Y4_x<0){Y4_x=0}try{domapi.setScrollTop(Y4_x)}catch(E){}}else{if(x3A00.clientY>(domapi.bodyHeight()-domapi.drag.AcI$7)){domapi.setScrollTop(domapi.scrollTop()+domapi.drag.AcI$7)}}if(x3A00.clientX<domapi.drag.AcI$7){var T00$3=domapi.scrollLeft()-domapi.drag.AcI$7;if(T00$3<0){T00$3=0}try{domapi.setScrollLeft(T00$3)}catch(E){}}else{if(x3A00.clientX>(domapi.bodyWidth()-domapi.drag.AcI$7)){domapi.setScrollTop(domapi.scrollLeft()+domapi.drag.AcI$7)}}if(domapi.dragObj.bM2==domapi.drag.dtDragDrop){if(domapi.dragObj.elm.v7t0==null){domapi.dragObj.elm.moveTo(XKE,n0r7)}else{domapi.dragObj.elm.v7t0.moveTo(pY2,m4$)}if(domapi.dragObj.j2c2!=null){if(domapi.dragObj.j2c2.RS2!=null){if(l5U!=null&&l5U.RS2!=null&&l5U.RS2!=domapi.dragObj.j2c2.RS2){l5U.RS2.hide()}if(domapi.dragObj.dest==null){domapi.dragObj.j2c2.RS2.moveTo(domapi.getAbsX(domapi.dragObj.j2c2),domapi.getAbsY(domapi.dragObj.j2c2));domapi.dragObj.j2c2.RS2.bringToFront();domapi.dragObj.j2c2.RS2.show()}else{var e_Dls=null,g$ls7=null;var a_m;if(domapi.dragObj.OB24){a_m=domapi.dragObj.dest.previousSibling;while(a_m!=null){if(a_m.nodeName=="DIV"){break}a_m=a_m.previousSibling}if(a_m==null){var T00$3,Rd0,D7f84;T00$3=Math.floor(domapi.dragObj.dest.getX()+domapi.dragObj.dest.getW()/2);Rd0=T00$3-(domapi.dragObj.j2c2.RS2.getW()/2);D7f84=domapi.dragObj.dest.getY()-(domapi.dragObj.j2c2.RS2.getH()/2);domapi.dragObj.j2c2.RS2.moveTo(Rd0,D7f84);domapi.dragObj.j2c2.RS2.bringToFront();domapi.dragObj.j2c2.RS2.show()}else{e_Dls=a_m;g$ls7=domapi.dragObj.dest}}else{a_m=domapi.dragObj.dest.nextSibling;while(a_m!=null){if(a_m.nodeName=="DIV"){break}a_m=a_m.nextSibling}if(a_m==null){var T00$3,Rd0,D7f84;T00$3=Math.floor(domapi.dragObj.dest.getX()+domapi.dragObj.dest.getW()/2);Rd0=T00$3-(domapi.dragObj.j2c2.RS2.getW()/2);D7f84=domapi.dragObj.dest.getY()+domapi.dragObj.dest.getH()-(domapi.dragObj.j2c2.RS2.getH()/2);domapi.dragObj.j2c2.RS2.moveTo(Rd0,D7f84);domapi.dragObj.j2c2.RS2.bringToFront();domapi.dragObj.j2c2.RS2.show()}else{e_Dls=domapi.dragObj.dest;g$ls7=a_m}}if(e_Dls!=null){var T00$3,Y4_x,Rd0,D7f84;T00$3=Math.floor((2*e_Dls.getX()+e_Dls.getW()+2*g$ls7.getX()+g$ls7.getW())/4);Y4_x=Math.floor((e_Dls.getY()+e_Dls.getH()+g$ls7.getY())/2);Rd0=T00$3-(domapi.dragObj.j2c2.RS2.getW()/2);D7f84=Y4_x-(domapi.dragObj.j2c2.RS2.getH()/2);domapi.dragObj.j2c2.RS2.moveTo(Rd0,D7f84);domapi.dragObj.j2c2.RS2.bringToFront();domapi.dragObj.j2c2.RS2.show()}}}}else{if(l5U!=null&&l5U.RS2!=null){l5U.RS2.hide()}}l5U=null;e_Dls=null;g$ls7=null;a_m=null;return}if(domapi.dragObj.bM2==domapi.drag.dtNormal){domapi.dragObj.elm.moveTo(XKE,n0r7);return}};domapi.drag.dragStop=function(x3A00){domapi.preventBubble(x3A00);domapi.dragObj.inDrag=false;domapi.removeEvent(document,"mousemove",domapi.drag.dragGo);domapi.removeEvent(document,"mouseup",domapi.drag.dragStop);var t=null;if(domapi.dragObj.elm.resizeStatus)domapi.resize.H7W43(domapi.dragObj.elm);if(domapi.dragObj.elm.reflowStatus)domapi.reflow._ko(domapi.dragObj.elm);if(domapi.dragObj.bM2==domapi.drag.dtDragDrop||domapi.dragObj.bM2==domapi.drag.dtCustom){if(!domapi.dragObj.Olm1c){if(domapi.dragObj.DragEnd)domapi.dragObj.DragEnd(false,-1);return}if(domapi.dragObj.j2c2){domapi.dragObj.ldw=domapi.dragObj.j2c2.ondragdrop(domapi.dragObj.elm)}else{domapi.dragObj.ldw=false}if(!domapi.dragObj.ldw){domapi.dragObj.elm.cancelDrag();if(domapi.dragObj.DragEnd)domapi.dragObj.DragEnd(false,-1);return}}if(domapi.dragObj.bM2==domapi.drag.dtDragDrop){if(domapi.dragObj.dest!=null){if(domapi.dragObj.OB24){domapi.insertElm(domapi.dragObj.elm,domapi.dragObj.dest,"beforeBegin")}else{domapi.insertElm(domapi.dragObj.elm,domapi.dragObj.dest,"afterEnd")}}else{domapi.insertElm(domapi.dragObj.elm,domapi.dragObj.j2c2,"beforeEnd")}if(domapi.dragObj.elm.v7t0==null){if(domapi.dragObj.A2NC!=null){domapi.dragObj.elm.setPosition(domapi.dragObj.A2NC);domapi.dragObj.A2NC=null}}else{domapi.dragObj.elm.v7t0.hide()}if(domapi.dragObj.j2c2!=null&&domapi.dragObj.j2c2.RS2!=null){domapi.dragObj.j2c2.RS2.hide()}if(t){if(typeof t.draw=="function")t.draw()}else if(domapi.dragObj.dest){if(typeof domapi.dragObj.dest.draw=="function")domapi.dragObj.dest.draw()}if(domapi.dragObj.src&&(typeof domapi.dragObj.src.draw=="function"))domapi.dragObj.src.draw()}if(domapi.dragObj.DragEnd)domapi.dragObj.DragEnd(true,null);if(domapi.dragObj.Olm1c&&domapi.useElmHooks&&domapi.dragObj.elm._WqR)domapi.dragObj.elm._WqR("dragStop",arguments)};domapi.drag.dragBasin=function(x,y,dX,dY){var c=[];for(var __4=0;__4<this.elm.basins.length;__4++){c[__4]=Math.abs(this.elm.basins[__4][0]-x)+Math.abs(this.elm.basins[__4][1]-y)}var p8Td=0;for(__4=1;__4<c.length;__4++)if(c[__4]<c[p8Td])p8Td=__4;this.elm.moveTo(this.elm.basins[p8Td][0],this.elm.basins[p8Td][1]);if(p8Td!=this.elm.dl__9){this.elm.dl__9=p8Td;if(this.elm.onbasinchange)this.elm.onbasinchange(p8Td)}};domapi.drag.dragRange=function(x,y,dX,dY){var x3A00=this.elm;if(x<x3A00.A$6[0])x=x3A00.A$6[0];if(y<x3A00.A$6[1])y=x3A00.A$6[1];if(x>x3A00.I47jq[ 0])x=x3A00.I47jq[ 0];if(y>x3A00.I47jq[ 1])y=x3A00.I47jq[ 1];x3A00.moveTo(x,y);var GH5=parseInt(((x-x3A00.A$6[0])/(x3A00.I47jq[0]-x3A00.A$6[0]))*100);var X$rJ=parseInt(((y-x3A00.A$6[1])/(x3A00.I47jq[1]-x3A00.A$6[1]))*100);if(this.elm.onrangechange)this.elm.onrangechange(GH5,X$rJ);x3A00=null};